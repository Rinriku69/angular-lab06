<h2>Dynamic Section</h2>

<button (click)="addsection()">+ Add New Section</button>

@for (section of sections; track section.Secname) {
  <div>
    <h3>
      Section {{ $index + 1 }}
      <button (click)="removeSection($index)">Remove Section</button>
    </h3>

    @for (item of section.items; track item.Inname; let $in = $index) {
      <div>
        <input
          type="number"
          [value]="item.value"
          (change)="InputChange(section.Secname, elem.valueAsNumber, item.Inname)"
          #elem
        />
        <button type="button" (click)="removeInput(section.Secname, $in)">X</button>
      </div>
    } @empty {
      <p>No inputs in this section.</p>
    }

    <button (click)="addinput(section.Secname)">+ Add Input</button>
  </div>
  <div>Result {{ section.Sectotal }}</div>
}
